#!/bin/bash

# Verificamos si el cambio fue un cambio de rama (el tercer par치metro es "1")
if [ "$3" == "1" ]; then
  current_branch=$(git branch --show-current)
  previous_branch=$(git reflog | grep 'checkout: moving from' | head -n 1 | sed -E 's/.*checkout: moving from ([^ ]+) to.*/\1/')

  # Solo mostramos el mensaje si ahora estamos en master y antes no lo est치bamos
  if [ "$current_branch" = "master" ] && [ "$previous_branch" != "master" ]; then
    echo -e "\n丘멆잺  Est치s ahora en la rama 'master' desde '$previous_branch'."
    echo "游녤 Si vas a hacer merge, us치:"
    echo "   git merge $previous_branch --commit para que se despliegue en Vercel"
  fi
fi
